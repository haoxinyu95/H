<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"/>
    <title>酒店列表</title>
    <link rel="stylesheet" type="text/css" href="css/mui.min.css"/>
    <link rel="stylesheet" type="text/css" href="css/public.css"/>
    <link rel="stylesheet" type="text/css" href="font-awesome/css/font-awesome.min.css"/>
    <link rel="stylesheet" type="text/css" href="css/index.css"/>
</head>

<body>
<!--头部导航-->
<header class="mui-bar mui-bar-nav">
    <a class="mui-active-back mui-icon mui-icon-left-nav"></a>
    <h1 class="mui-title">首页</h1>
</header>
<!--中间部分-->
<div id="refreshContainer" class="mui-content  mui-scroll-wrapper">
    <div class="mui-scroll">
        <ul class="mui-table-view">
            <li class="mui-table-view-cell mui-media">
                <a href="javascript:;">
                    <img class="mui-media-object mui-pull-left hotel-img" src="img/room1.jpg"/>
                    <div class="mui-media-body">
                        七天连锁酒店
                        <p class="mui-ellipsis">
                            <span class="hotel-color-blue hotel-rate">4.3分</span>
                            <i class="fa fa-wifi"></i>
                            <span class="hotel-price hotel-color-orange">$1244</span>
                        </p>
                        <p class="mui-ellipsis">
                            经济型酒店
                            <i class="fa fa-gift"></i>
                        </p>
                        <p class="mui-ellipsis">
                            回龙观东大街站珠峰培训门口
                            <span class="hotel-away">2公里</span>
                        </p>
                    </div>
                </a>
            </li>
            <li class="mui-table-view-cell mui-media">
                <a href="javascript:;">
                    <img class="mui-media-object mui-pull-left hotel-img" src="img/room2.jpg"/>
                    <div class="mui-media-body">
                        七天连锁酒店
                        <p class="mui-ellipsis">
                            <span class="hotel-color-blue hotel-rate">4.3分</span>
                            <i class="fa fa-wifi"></i>
                            <span class="hotel-price hotel-color-orange">$489</span>
                        </p>
                        <p class="mui-ellipsis">
                            经济型酒店
                            <i class="fa fa-gift"></i>
                        </p>
                        <p class="mui-ellipsis">
                            回龙观东大街站珠峰培训门口
                            <span class="hotel-away">2公里</span>
                        </p>
                    </div>
                </a>
            </li>
            <li class="mui-table-view-cell mui-media">
                <a href="javascript:;">
                    <img class="mui-media-object mui-pull-left hotel-img" src="img/room3.jpg"/>
                    <div class="mui-media-body">
                        七天连锁酒店
                        <p class="mui-ellipsis">
                            <span class="hotel-color-blue hotel-rate">4.3分</span>
                            <i class="fa fa-wifi"></i>
                            <span class="hotel-price hotel-color-orange">$999</span>
                        </p>
                        <p class="mui-ellipsis">
                            经济型酒店
                            <i class="fa fa-gift"></i>
                        </p>
                        <p class="mui-ellipsis">
                            回龙观东大街站珠峰培训门口
                            <span class="hotel-away">2公里</span>
                        </p>
                    </div>
                </a>
            </li>
            <li class="mui-table-view-cell mui-media">
                <a href="javascript:;">
                    <img class="mui-media-object mui-pull-left hotel-img" src="img/room4.png"/>
                    <div class="mui-media-body">
                        七天连锁酒店
                        <p class="mui-ellipsis">
                            <span class="hotel-color-blue hotel-rate">4.3分</span>
                            <i class="fa fa-wifi"></i>
                            <span class="hotel-price hotel-color-orange">$999</span>
                        </p>
                        <p class="mui-ellipsis">
                            经济型酒店
                            <i class="fa fa-gift"></i>
                        </p>
                        <p class="mui-ellipsis">
                            回龙观东大街站珠峰培训门口
                            <span class="hotel-away">2公里</span>
                        </p>
                    </div>
                </a>
            </li>
            <li class="mui-table-view-cell mui-media">
                <a href="javascript:;">
                    <img class="mui-media-object mui-pull-left hotel-img" src="img/room5.jpg"/>
                    <div class="mui-media-body">
                        七天连锁酒店
                        <p class="mui-ellipsis">
                            <span class="hotel-color-blue hotel-rate">4.3分</span>
                            <i class="fa fa-wifi"></i>
                            <span class="hotel-price hotel-color-orange">$999</span>
                        </p>
                        <p class="mui-ellipsis">
                            经济型酒店
                            <i class="fa fa-gift"></i>
                        </p>
                        <p class="mui-ellipsis">
                            回龙观东大街站珠峰培训门口
                            <span class="hotel-away">2公里</span>
                        </p>
                    </div>
                </a>
            </li>
            <li class="mui-table-view-cell mui-media">
                <a href="javascript:;">
                    <img class="mui-media-object mui-pull-left hotel-img" src="img/room1.jpg"/>
                    <div class="mui-media-body">
                        七天连锁酒店
                        <p class="mui-ellipsis">
                            <span class="hotel-color-blue hotel-rate">4.3分</span>
                            <i class="fa fa-wifi"></i>
                            <span class="hotel-price hotel-color-orange">$999</span>
                        </p>
                        <p class="mui-ellipsis">
                            经济型酒店
                            <i class="fa fa-gift"></i>
                        </p>
                        <p class="mui-ellipsis">
                            回龙观东大街站珠峰培训门口
                            <span class="hotel-away">2公里</span>
                        </p>
                    </div>
                </a>
            </li>
            <li class="mui-table-view-cell mui-media">
                <a href="javascript:;">
                    <img class="mui-media-object mui-pull-left hotel-img" src="img/room2.jpg"/>
                    <div class="mui-media-body">
                        七天连锁酒店
                        <p class="mui-ellipsis">
                            <span class="hotel-color-blue hotel-rate">4.3分</span>
                            <i class="fa fa-wifi"></i>
                            <span class="hotel-price hotel-color-orange">$999</span>
                        </p>
                        <p class="mui-ellipsis">
                            经济型酒店
                            <i class="fa fa-gift"></i>
                        </p>
                        <p class="mui-ellipsis">
                            回龙观东大街站珠峰培训门口
                            <span class="hotel-away">2公里</span>
                        </p>
                    </div>
                </a>
            </li>
            <li class="mui-table-view-cell mui-media">
                <a href="javascript:;">
                    <img class="mui-media-object mui-pull-left hotel-img" src="img/room3.jpg"/>
                    <div class="mui-media-body">
                        七天连锁酒店
                        <p class="mui-ellipsis">
                            <span class="hotel-color-blue hotel-rate">4.3分</span>
                            <i class="fa fa-wifi"></i>
                            <span class="hotel-price hotel-color-orange">$999</span>
                        </p>
                        <p class="mui-ellipsis">
                            经济型酒店
                            <i class="fa fa-gift"></i>
                        </p>
                        <p class="mui-ellipsis">
                            回龙观东大街站珠峰培训门口
                            <span class="hotel-away">2公里</span>
                        </p>
                    </div>
                </a>
            </li>
            <li class="mui-table-view-cell mui-media">
                <a href="javascript:;">
                    <img class="mui-media-object mui-pull-left hotel-img" src="img/room4.png"/>
                    <div class="mui-media-body">
                        七天连锁酒店
                        <p class="mui-ellipsis">
                            <span class="hotel-color-blue hotel-rate">4.3分</span>
                            <i class="fa fa-wifi"></i>
                            <span class="hotel-price hotel-color-orange">$999</span>
                        </p>
                        <p class="mui-ellipsis">
                            经济型酒店
                            <i class="fa fa-gift"></i>
                        </p>
                        <p class="mui-ellipsis">
                            回龙观东大街站珠峰培训门口
                            <span class="hotel-away">2公里</span>
                        </p>
                    </div>
                </a>
            </li>
            <li class="mui-table-view-cell mui-media">
                <a href="javascript:;">
                    <img class="mui-media-object mui-pull-left hotel-img" src="img/room5.jpg"/>
                    <div class="mui-media-body">
                        七天连锁酒店
                        <p class="mui-ellipsis">
                            <span class="hotel-color-blue hotel-rate">4.3分</span>
                            <i class="fa fa-wifi"></i>
                            <span class="hotel-price hotel-color-orange">$999</span>
                        </p>
                        <p class="mui-ellipsis">
                            经济型酒店
                            <i class="fa fa-gift"></i>
                        </p>
                        <p class="mui-ellipsis">
                            回龙观东大街站珠峰培训门口
                            <span class="hotel-away">2公里</span>
                        </p>
                    </div>
                </a>
            </li>
        </ul>
    </div>
</div>
<!--底部栏-->
<nav class="mui-bar mui-bar-tab">
    <a class="mui-tab-item mui-active">
        <span class="mui-icon mui-icon-home"></span>
        <span class="mui-tab-label">首页</span>
    </a>
    <a class="mui-tab-item">
        <span class="mui-icon mui-icon-chat"></span>
        <span class="mui-tab-label">联系</span>
    </a>
    <a class="mui-tab-item">
        <span class="mui-icon mui-icon-compose"></span>
        <span class="mui-tab-label">订单</span>
    </a>
    <a class="mui-tab-item">
        <span class="mui-icon mui-icon-person"></span>
        <span class="mui-tab-label">我的</span>
    </a>
</nav>
</body>
<script src="js/mui.min.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">

    mui.init({
        pullRefresh : {
            container:"#refreshContainer",//下拉刷新容器标识，querySelector能定位的css选择器均可，比如：id、.class等
            down : {
                height:50,//可选,默认50.触发下拉刷新拖动距离,
                auto: false,//可选,默认false.首次加载自动下拉刷新一次
                contentdown : "下拉可以刷新",//可选，在下拉可刷新状态时，下拉刷新控件上显示的标题内容
                contentover : "释放立即刷新",//可选，在释放可刷新状态时，下拉刷新控件上显示的标题内容
                contentrefresh : "正在刷新...",//可选，正在刷新状态时，下拉刷新控件上显示的标题内容
                callback :pullFresh //必选，刷新函数，根据具体业务来编写，比如通过ajax从服务器获取新数据；
            }
        }
    });
    //获取新的数据绑定到页面上
    function pullFresh() {
        mui.ajax('json/data.txt',{
            data:null,
            dataType:'json',//服务器返回json格式数据
            type:'get',//HTTP请求类型
            timeout:10000,//超时时间设置为10秒；
            headers:{'Content-Type':'application/json'},
            success:function(data){
                //将数据绑定到页面上
                var str=``;
                mui.each(data,function(index,item) {
                    str+=`
                     <li class="mui-table-view-cell mui-media">
                <a href="javascript:;">
                    <img class="mui-media-object mui-pull-left hotel-img" src="${item.img}"/>
                    <div class="mui-media-body">
                        ${item.name}
                        <p class="mui-ellipsis">
                            <span class="hotel-color-blue hotel-rate">${item.rate}</span>
                            <i class="fa fa-wifi"></i>
                            <span class="hotel-price hotel-color-orange">${item.price}</span>
                        </p>
                        <p class="mui-ellipsis">
                            ${item.type}
                            <i class="fa fa-gift"></i>
                        </p>
                        <p class="mui-ellipsis">
                            ${item.nearby}
                            <span class="hotel-away">${item.away}</span>
                        </p>
                    </div>
                </a>
            </li>
                    `
                });
                mui("#refreshContainer .mui-table-view")[0].innerHTML=str+mui("#refreshContainer .mui-table-view")[0].innerHTML;
                mui('#refreshContainer').pullRefresh().endPulldownToRefresh();

            },
            error:function(xhr,type,errorThrown){
                //异常处理；
                console.log(type);
            }
        });
    }
</script>

</html>